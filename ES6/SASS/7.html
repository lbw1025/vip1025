<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function multiRequest(urls=[], maxNum)
{
    const len = urls.length;
    const result = new Array((len).fill(false))
    let count = 0
        }
        return new Promise((reslove,reject)=>{
            while(count < maxNum){
                next();
            }
        function next(){
            let current = count++ ;
            if(current >= len){
                !result.includes(0)&& reslove(result)
                return;
            }
            const url = url[current];
            console.log(
                "ok",new Date().toLocaleString()
            )
            fetch(url)
            .then((result)=>{
                result[current] = res;
                console.log("no"),
                new Date().toLocaleString()
                if(current<len){
                    next();
                }
            })
            .catch((err))=>{
                console.log("结束")
            }

        }
        } 
        )
    </script>
</body>
</html>